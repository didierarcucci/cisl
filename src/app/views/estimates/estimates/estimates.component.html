<div class="animated fadeIn">
  <h4>Estimates</h4><br>
  <div class="card">
    <div class="card-body">
      <div class="row">
        <div class="col-sm-7 offset-sm-5 d-none d-md-block">
          <button type="button" class="btn btn-primary float-right" [routerLink]="['/estimates/estimate-new']"><i class="fa fa-plus" title="New Estimate"></i></button>
        </div>
      </div>
      <div class="row">&nbsp;</div>
      <table class="table table-responsive-sm table-hover table-outline mb-0">
        <thead class="thead-light">
          <tr>
            <th class="text-center">Actions</th>
            <th>Estimate Name</th>
            <th>Version</th>
            <th class="text-right">Cost</th>
            <th class="text-right">Add-On Cost</th>
            <th class="text-right">Total Cost</th>
            <th class="text-right">Effort (hrs)</th>
            <th class="text-right">Component Count</th>
            <th class="text-center">Status</th>
            <th>Created Date</th>
          </tr>
        </thead>
        <tbody>
          <tr class="clickable" *ngFor="let e of estimates | paginate: config" routerLink="/estimates/estimate-edit/{{e.id}}">
            <td class="text-center">
              <button type="button" class="btn btn-primary" [routerLink]="['/estimates/estimate-clone/'+e.id]"><i class="fa fa-clone" title="Clone Estimate"></i></button>
            </td>
            <td>
              <div>{{e.name}}</div>
            </td>
            <td><div>{{e.version}}</div></td>
            <!--<td class="text-right"><div>{{e.cost | currency}}</div></td>
            <td class="text-right"><div>{{e.addOnCost | currency}}</div></td>
            <td class="text-right"><div>{{e.totalCost | currency}}</div></td>
            <td class="text-right"><div>{{e.effort}}</div></td>
            <td class="text-right"><div>{{e.componentCount}}</div></td>-->
            <td class="text-right"><div>0</div></td>
            <td class="text-right"><div>0</div></td>
            <td class="text-right"><div>0</div></td>
            <td class="text-right"><div>0</div></td>
            <td class="text-right"><div>0</div></td>
            <td class="text-center">
              <div>
                <span class="badge badge-success" *ngIf="e.active">Active</span>
                <span class="badge badge-secondary" *ngIf="!e.active">Inactive</span>
              </div>
            </td>
            <td><div>{{e.createdAt | date:locale}}</div></td>
          </tr>
        </tbody>
      </table>
      <div class="row">&nbsp;</div>
      <pagination-template
        #p="paginationApi"
        [id]="config.id"
        (pageChange)="config.currentPage = $event" class="pagination">

        <div class="page-item" [class.disabled]="p.isFirstPage()">
            <a class="page-link" (click)="p.previous()">Prev</a>
        </div>

        <div class="page-item" *ngFor="let page of p.pages" [class.active]="p.getCurrent() === page.value">
            <a (click)="p.setCurrent(page.value)" *ngIf="p.getCurrent() !== page.value">
                <span class="page-link">{{ page.label }}</span>
            </a>
            <a *ngIf="p.getCurrent() === page.value">
                <span class="page-link">{{ page.label }}</span>
            </a>
        </div>

        <div class="page-item" [class.disabled]="p.isLastPage()">
            <a class="page-link" (click)="p.next()">Next</a>
        </div>
      </pagination-template>
    </div>
  </div>
</div>